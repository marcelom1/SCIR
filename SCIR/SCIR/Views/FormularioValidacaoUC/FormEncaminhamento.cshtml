@using SCIR.Models.ViewModels

@model FormularioValidacaoUCVM



@section css{
    <link href="~/Content/css/select2.min.css" rel="stylesheet" />
    <link href="~/Content/css/FormularioValidacaoUC/CadastroFormularioValidacaoUCFormEncaminhamento.css" rel="stylesheet" />
}
<div id="alert">

</div>
<hr>
<h3 class="pb-3">Requerimento: @Model.FormularioValidacaoUC.TipoRequerimento.Nome</h3>

@*<input onclick="location.href='#'" class="btn bg-success botao_cor btn-sm blockConfirmation" type="button" value="Novo">*@
<input onclick="location.href='#'" class="btn bg-info botao_cor btn-sm blockConfirmation" type="button" value="Histórico">

@using (Html.BeginForm("Salvar", "FormularioValidacaoUC", FormMethod.Post, new { @id = "CadastroFormularioValidacaoUC", @name = "CadastroFormularioValidacaoUC" }))
{
    <div class="form-row pb-1 pt-4 ">
        <div class="form-group col-md-2 Oculto">
            <label for="Codigo">Código</label>
            <div class="input-group mb-1">
                <input type="text" class="form-control blockConfirmation" id="Id" placeholder="Código" disabled name="FormularioValidacaoUC.Id" value="@Model.FormularioValidacaoUC.Id">
            </div>
        </div>
        <div class="form-group col-md-3">
            <label for="Protocolo">Protocolo:</label>
            <p type="text" id="Protocolo" name="FormularioValidacaoUC.Protocolo">@Model.FormularioValidacaoUC.Protocolo</p>
        </div>
        <div class="form-group col-md-3">
            <label for="Abertura">Abertura:</label>
            <p type="text" id="Abertura" name="FormularioValidacaoUC.Abertura">@Model.FormularioValidacaoUC.Abertura.ToShortDateString()</p>
        </div>
        <div class="form-group col-md-3">
            <label for="Encerramento">Encerramento:</label>
            <p type="text" id="Encerramento" name="FormularioValidacaoUC.Encerramento">@Model.FormularioValidacaoUC.Encerramento.ToShortDateString()</p>
        </div>

        <div class="form-group col-md-3">
            <label for="StatusAtual">Status Atual: </label>
            <p type="text" id="StatusNome" name="FormularioValidacaoUC.StatusRequerimento.Nome">@Model.FormularioValidacaoUC.StatusRequerimento.Nome</p>
            <input type="text" class="form-control Oculto" id="StatusRequerimentoAtualId" disabled name="FormularioValidacaoUC.StatusRequerimentoId" value="@Model.FormularioValidacaoUC.StatusRequerimentoId">

        </div>

    </div>

    <div class="form-row pb-1 pt-4 ">
        <div class="form-group col-md-3">
            <label for="Requerente">Requerente:</label>
            <p type="text" id="RequerenteNome" name="FormularioValidacaoUC.UsuarioRequerenteNome">@Model.FormularioValidacaoUC.UsuarioRequerenteId - @Model.FormularioValidacaoUC.UsuarioRequerente.Nome</p>
            <input type="text" class="form-control Oculto" id="RequerenteId" disabled name="FormularioValidacaoUC.UsuarioRequerenteId" value="@Model.FormularioValidacaoUC.UsuarioRequerenteId">
        </div>
        <div class="form-group col-md-3">
            <label for="Atendente">Atendente Atual:</label>
            <p type="text" id="RequerenteNome" name="FormularioValidacaoUC.UsuarioRequerenteNome">@Model.FormularioValidacaoUC.UsuarioAtendenteId - @Model.FormularioValidacaoUC.UsuarioAtendente.Nome</p>
            <input type="text" class="form-control Oculto" id="AtendenteAtualId" disabled name="FormularioValidacaoUC.UsuarioAtendenteId" value="@Model.FormularioValidacaoUC.UsuarioAtendenteId">
        </div>

    </div>
    <div class="form-row pb-1 pt-4 ">
        <label for="Atendente">Mensagem Atual:</label>
        <p style="word-wrap: break-word!important" class="text-break">mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm mmmmmmmm mmmmmm mmmmmmmmmmmmmmmm m mmmmmmmmm mmmmm mmmmm mmmmmmm mmmmm</p>
    </div>
    <div class="form-row pb-1 pt-4 ">
        <label for="Moyivo">Motivo:</label>
        <p style="word-wrap: break-word!important" class="text-break">mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm mmmmmmmm mmmmmm mmmmmmmmmmmmmmmm m mmmmmmmmm mmmmm mmmmm mmmmmmm mmmmm</p>
    </div>

    <hr />
    <div class="form-row pb-1 pt-4 ">
        <div class="form-group col-md-3">
            <label for="Atendente">Atendente</label>
            <select class="js-example-basic-single select2" id="Select2_Curso" name="unidadeCurricular.CursoId">
                <option value=""></option>
            </select>
        </div>
        <div class="form-group col-md-3">
            <label for="Status">Status</label>
            <select class="js-example-basic-single select2" id="Select2_Curso" name="unidadeCurricular.CursoId">
                <option value=""></option>
            </select>
        </div>
    </div>
    <div class="form-row pb-1 pt-4 ">
        <div class="form-group col-md-12">
            <label for="exampleFormControlTextarea1">Mensagem</label>
            <textarea class="form-control" id="exampleFormControlTextarea1" style="height:auto!important"></textarea>
        </div>
    </div>

    <table id="grid-basic" class="table table-condensed table-hover table-striped">
        <thead>
            <tr>
                <th data-column-id="Id" data-order="asc" data-type="numeric">Id</th>
                <th data-column-id="Nome">Nome</th>
                <th data-column-id="DataEnvio">Data Envio</th>
                <th data-column-id="commands" data-formatter="commands" data-sortable="false">Ação</th>
            </tr>
        </thead>
    </table>

    <input type="button" id="Botao_Salvar" class="btn botao_cor_verde btn-lg blockConfirmation" value="Enviar">
}

@section scripts{
    <script src="~/Content/js/select2.min.js"></script>
    <script src="~/Content/js/pt-BR.js"></script>
    <script>
        function CarregarParametrosAdicionaisGrid(request) {
            //Sem parametros
        }

        var listaGrid = "";
    </script>
    <script src="~/Content/js/Utils/GridInit.js"></script>
    <script src="~/Content/js/FormularioValidacaoUC/CadastroFormularioValidacaoUCFormEncaminhamento.js"></script>
    <script>
    var consistencia = "";
    var consistenciaTipo = 1;

    if (JSON.parse("@Model.Consistencia.Inconsistencias.Any()".toLowerCase()))
    {
        consistencia = "@Model.Consistencia.InconsistenciasToString";
        consistenciaTipo = 1;

    }else if (JSON.parse("@Model.Consistencia.Advertencias.Any()".toLowerCase()))
    {
        consistencia  = "@Model.Consistencia.AdvertenciasToString";
        consistenciaTipo = 2;
    } else if (JSON.parse("@Model.Consistencia.Sucesso.Any()".toLowerCase()))
    {
        consistencia  = "@Model.Consistencia.SucessoToString";
        consistenciaTipo = 3;
    }

    VerificarConsistencia(consistencia, consistenciaTipo);
    </script>
}

